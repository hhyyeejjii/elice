/*
Auto-generated by: https://github.com/pmndrs/gltfjsx
author: Mohamed199 (https://sketchfab.com/Mohamed199)
license: CC-BY-4.0 (http://creativecommons.org/licenses/by/4.0/)
source: https://sketchfab.com/3d-models/lowpoly-bed-6eb4212e70b941a3bd2db196a47828b9
title: Lowpoly Bed
*/

import ReactDOM from "react-dom";
import React, { Suspense, useEffect, useRef } from "react";
import { useLoader } from "@react-three/fiber";
import { GLTFLoader } from "three/examples/jsm/loaders/GLTFLoader";
import { Controls, useControl } from "react-three-gui";
import { OrbitControls, TransformControls } from "@react-three/drei";
import { useGLTF } from "@react-three/drei";

export default function Model({ edit, onNOff }) {
  const group = useRef();

  const orbit = useRef();
  const transform = useRef();
  const mode = useControl("mode", {
    type: "select",
    items: ["rotate", "translate"],
  });
  useEffect(() => {});

  const { nodes, materials } = useGLTF("/bed.gltf");
  return (
    <>
      {onNOff ? (
        <TransformControls
          ref={transform}
          showZ={edit}
          showY={edit}
          showX={edit}
        >
          <group
            ref={group}
            dispose={null}
            scale={"0.5"}
            rotation={[0, Math.PI / 2, 0]}
          >
            <group position={[100, -0.14, 261.7]} rotation={[-1.57, 0, 1.57]}>
              <group rotation={[Math.PI / 2, 0, 0]}>
                <mesh receiveShadow castShadow
                  geometry={nodes.polySurface665_Bed_0.geometry}
                  material={materials.material}
                />
              </group>
            </group>
          </group>
        </TransformControls>
      ) : (
        <></>
      )}
    </>
  );
}

useGLTF.preload("/bed.gltf");
